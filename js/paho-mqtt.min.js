/* Paho MQTT over WebSocket - minified */
(function(){function b(a,b,c,d){this._traceBuffer=[];this._MAX_TRACE_ENTRIES=100;this.host=a;this.port=b;this.path=c;this.uri="ws://"+a+":"+b+c;this.clientId=d;this._msg_queue=[];this._connectOptions=null;this.connected=!1;this.socket=null;this._message_listener=null}b.prototype.connect=function(a){this._connectOptions=a;this.socket=new WebSocket(this.uri,"mqtt");var b=this;this.socket.onopen=function(){b.connected=!0;a.onSuccess&&a.onSuccess()};this.socket.onmessage=function(a){b._on_message(a)};this.socket.onclose=function(){b.connected=!1;a.onFailure&&a.onFailure()}};b.prototype.send=function(a,b){if(!this.connected)throw Error("Not connected");var c=JSON.stringify({d:b,t:a});this.socket.send(c)};b.prototype.subscribe=function(a){if(this.connected){var b=JSON.stringify({subscribe:a});this.socket.send(b)}};b.prototype._on_message=function(a){this._message_listener&&this._message_listener({payloadString:a.data})};b.prototype.onMessageArrived=null;b.prototype.onConnectionLost=null;window.Paho={MQTT:{Client:b}}})();

