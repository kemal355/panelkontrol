/* Paho MQTT over WebSocket - simplified minified */
(function(){function b(a,b,c,d){this.host=a;this.port=b;this.path=c;this.clientId=d;
this.uri=(location.protocol==="https:"?"wss://":"ws://")+a+":"+b+c;
this._connectOptions=null;this.connected=false;this.socket=null;this.onMessageArrived=null;this.onConnectionLost=null;}
b.prototype.connect=function(a){this._connectOptions=a;this.socket=new WebSocket(this.uri,"mqtt");var b=this;
this.socket.onopen=function(){b.connected=true;a.onSuccess&&a.onSuccess();};
this.socket.onmessage=function(e){if(b.onMessageArrived){b.onMessageArrived({payloadString:e.data});}};
this.socket.onclose=function(){b.connected=false;a.onFailure&&a.onFailure();b.onConnectionLost&&b.onConnectionLost();};};
b.prototype.send=function(a,c){if(!this.connected)throw Error("Not connected");
var m={destinationName:a,payloadString:c};this.socket.send(c);};
b.prototype.subscribe=function(a){if(this.connected){this.socket.send("SUB "+a);}};
window.Paho={MQTT:{Client:b}};})();
